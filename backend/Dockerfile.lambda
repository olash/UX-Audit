# 1. Use the AWS Node.js 20 base image
FROM public.ecr.aws/lambda/nodejs:20

# 2. Copy package files and install dependencies
COPY package.json package-lock.json ${LAMBDA_TASK_ROOT}/
RUN npm ci

# 3. Copy source code
COPY . ${LAMBDA_TASK_ROOT}/

# 4. Set the CMD to your handler (index.handler)
CMD [ "index.handler" ]
